<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <script type="text/javascript" src='d3.js'>

    </script>
  </head>
  <body>
    <svg>

    </svg>
  </body>
  <script type="text/javascript">

    var data = d3.json('classData.json').then(function(d){

      initialize(d);
      update(d,0,0);

    });

    var initialize = function(data){

      var svgwidth = 900;
      var svgheight = 600;

      var svg = d3.select('svg').attr('width',svgwidth).attr('height',svgheight);
      var margins =
      {
        top:20,
        bottom:50,
        left:50,
        right:100
      }

      var width = svgwidth -margins.left - margins.right;
      var height = svgheight -margins.top - margins.bottom;

      var yScale = d3.scaleLinear()
                     .domain([0,50])
                     .range([height,0]);

      var xScale = d3.scaleLinear()
                     .domain(d3.extent(data))
                     .nice()
                     .range([0,width]);

      var BinMaker = d3.histogram()
                       .domain(xScale.domain())
                       .thresholds(xScale.ticks(10));

      var bins = BinMaker(data);

      plot.selectAll("rect")
          .data(bins)
          .enter()
          .append("rect")
          .attr("x", function(d){return xScale(d.x0);})
          .attr("width", function(d){return xScale(d.x1-.1)-xScale(d.x0);})
          .attr("y", function(d){return yScale(percentage(d));})
          .attr("height", function(d){return height - yScale(percentage(d));})

      var yAxis = d3.axisLeft(yScale);
      svg.append('g').classed('yScale',true)
         .call(yAxis)
         .attr('transform','translate('+(margins.left+10)+","+margins.top+')')



  </script>
</html>
